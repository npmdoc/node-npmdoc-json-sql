<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/2do2go/json-sql#readme"

    >json-sql (v0.3.10)</a>
</h1>
<h4>node.js json to sql queries mapper</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.json-sql">module json-sql</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-sql.json-sql">
            function <span class="apidocSignatureSpan"></span>json-sql
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-sql.Builder">
            function <span class="apidocSignatureSpan">json-sql.</span>Builder
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">json-sql.</span>Builder.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.json-sql.Builder">module json-sql.Builder</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-sql.Builder.Builder">
            function <span class="apidocSignatureSpan">json-sql.</span>Builder
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.json-sql.Builder.prototype">module json-sql.Builder.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-sql.Builder.prototype._getPlaceholder">
            function <span class="apidocSignatureSpan">json-sql.Builder.prototype.</span>_getPlaceholder
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-sql.Builder.prototype._pushValue">
            function <span class="apidocSignatureSpan">json-sql.Builder.prototype.</span>_pushValue
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-sql.Builder.prototype._reset">
            function <span class="apidocSignatureSpan">json-sql.Builder.prototype.</span>_reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-sql.Builder.prototype._wrapPlaceholder">
            function <span class="apidocSignatureSpan">json-sql.Builder.prototype.</span>_wrapPlaceholder
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-sql.Builder.prototype.build">
            function <span class="apidocSignatureSpan">json-sql.Builder.prototype.</span>build
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-sql.Builder.prototype.configure">
            function <span class="apidocSignatureSpan">json-sql.Builder.prototype.</span>configure
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.json-sql.Builder.prototype.setDialect">
            function <span class="apidocSignatureSpan">json-sql.Builder.prototype.</span>setDialect
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.json-sql" id="apidoc.module.json-sql">module json-sql</a></h1>


    <h2>
        <a href="#apidoc.element.json-sql.json-sql" id="apidoc.element.json-sql.json-sql">
        function <span class="apidocSignatureSpan"></span>json-sql
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">json-sql = function (options) {
	return new Builder(options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-sql.Builder" id="apidoc.element.json-sql.Builder">
        function <span class="apidocSignatureSpan">json-sql.</span>Builder
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Builder = function (options) {
	this.configure(options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.json-sql.Builder" id="apidoc.module.json-sql.Builder">module json-sql.Builder</a></h1>


    <h2>
        <a href="#apidoc.element.json-sql.Builder.Builder" id="apidoc.element.json-sql.Builder.Builder">
        function <span class="apidocSignatureSpan">json-sql.</span>Builder
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Builder = function (options) {
	this.configure(options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.json-sql.Builder.prototype" id="apidoc.module.json-sql.Builder.prototype">module json-sql.Builder.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.json-sql.Builder.prototype._getPlaceholder" id="apidoc.element.json-sql.Builder.prototype._getPlaceholder">
        function <span class="apidocSignatureSpan">json-sql.Builder.prototype.</span>_getPlaceholder
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getPlaceholder = function () {
	var placeholder = &#x27;&#x27;;
	if (this.options.namedValues) placeholder += &#x27;p&#x27;;
	if (this.options.indexedValues) placeholder += this._placeholderId++;
	return placeholder;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-sql.Builder.prototype._pushValue" id="apidoc.element.json-sql.Builder.prototype._pushValue">
        function <span class="apidocSignatureSpan">json-sql.Builder.prototype.</span>_pushValue
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_pushValue = function (value) {
	if (_.isUndefined(value) || _.isNull(value)) {
		return &#x27;null&#x27;;
	} else if (_.isNumber(value) || _.isBoolean(value)) {
		return String(value);
	} else if (_.isString(value) || _.isDate(value)) {
		if (this.options.separatedValues) {
			var placeholder = this._getPlaceholder();

			if (this.options.namedValues) {
				this._values[placeholder] = value;
			} else {
				this._values.push(value);
			}

			return this._wrapPlaceholder(placeholder);
		} else {
			if (_.isDate(value)) value = value.toISOString();

			return &#x27;\&#x27;&#x27; + value + &#x27;\&#x27;&#x27;;
		}
	} else {
		throw new Error(&#x27;Wrong value type &#x22;&#x27; + (typeof value) + &#x27;&#x22;&#x27;);
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-sql.Builder.prototype._reset" id="apidoc.element.json-sql.Builder.prototype._reset">
        function <span class="apidocSignatureSpan">json-sql.Builder.prototype.</span>_reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_reset = function () {
	if (this.options.separatedValues) {
		this._placeholderId = 1;
		this._values = this.options.namedValues ? {} : [];
	} else {
		delete this._placeholderId;
		delete this._values;
	}

	this._query = &#x27;&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-sql.Builder.prototype._wrapPlaceholder" id="apidoc.element.json-sql.Builder.prototype._wrapPlaceholder">
        function <span class="apidocSignatureSpan">json-sql.Builder.prototype.</span>_wrapPlaceholder
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_wrapPlaceholder = function (name) {
	return this.options.valuesPrefix + name;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-sql.Builder.prototype.build" id="apidoc.element.json-sql.Builder.prototype.build">
        function <span class="apidocSignatureSpan">json-sql.Builder.prototype.</span>build
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">build = function (params) {
	var builder = this;

	this._reset();

	this._query = this.dialect.buildTemplate(&#x27;query&#x27;, {queryBody: params}) + &#x27;;&#x27;;

	if (this.options.separatedValues) {
		return {
			query: this._query,
			values: this._values,
			prefixValues: function() {
				var values = {};
				_(this.getValuesObject()).each(function(value, name) {
					values[builder._wrapPlaceholder(name)] = value;
				});
				return values;
			},
			getValuesArray: function() {
				return _.isArray(this.values) ? this.values : _(this.values).values();
			},
			getValuesObject: function() {
				return _.isArray(this.values) ? _(_.range(1, this.values.length + 1)).object(this.values) :
					this.values;
			}
		};
	} else {
		return {query: this._query};
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

Then:

``` js
var jsonSql = require(&#x27;json-sql&#x27;)();

var sql = jsonSql.<span class="apidocCodeKeywordSpan">build</span>({
	type: &#x27;select&#x27;,
	table: &#x27;users&#x27;,
	fields: [&#x27;name&#x27;, &#x27;age&#x27;],
	condition: {name: &#x27;Max&#x27;, id: 6}
});

sql.query
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-sql.Builder.prototype.configure" id="apidoc.element.json-sql.Builder.prototype.configure">
        function <span class="apidocSignatureSpan">json-sql.Builder.prototype.</span>configure
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">configure = function (options) {
	options = _.defaults({}, options, {
		separatedValues: true,
		namedValues: true,
		valuesPrefix: &#x27;$&#x27;,
		dialect: &#x27;base&#x27;,
		wrappedIdentifiers: true,
		indexedValues: true
	});

	if (options.namedValues &#x26;&#x26; !options.indexedValues) {
		throw new Error(
			&#x27;Option `indexedValues`: false is &#x27; +
			&#x27;not allowed together with option `namedValues`: true&#x27;
		);
	}

	this.options = options;

	this.setDialect(this.options.dialect);

	this._reset();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.json-sql.Builder.prototype.setDialect" id="apidoc.element.json-sql.Builder.prototype.setDialect">
        function <span class="apidocSignatureSpan">json-sql.Builder.prototype.</span>setDialect
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDialect = function (name) {
	if (!dialectsHash[name]) {
		throw new Error(&#x27;Unknown dialect &#x22;&#x27; + name + &#x27;&#x22;&#x27;);
	}

	this.dialect = new (dialectsHash[name])(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
